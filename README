lfm - Last File Manager
=======================

(C) 2001-2, Iñigo Serna <inigoserna@terra.es>

This software has been realised under the GPL License, see the COPYING
file that comes with this package. There is NO WARRANTY.


Introduction:
=============
'Last File Manager' is (tries to be) a simple 'midnight commander'-type
application for UNIX console.

From version 0.6 and higher lfm package also contains 'pyview', a
simple text/hex file viewer to be used with lfm. Read README.pyview 
for more info on it.

Lfm and Pyview are written in python and need curses module.

It has been tested on next platforms:

O.S.           PYTHON     Arch
-------------------------------------------------
Linux 2.4.12   2.2        i686
Solaris 8      2.1        UltraSparc-II (1)

(1) I needed to install ncurses and recompile python to use them. 
    It doesn't work with the curses library which comes with Solaris 8.

I hope it runs in other UNIXes as well.
It seems it doesn't work on *BSD Systems, perhaps due to the version of 
ncurses library they include.

It needs Python v2.0 or higher, it won't work with v1.5.
Lfm doesn't work without integer division. It will crash with Python 3.0...

Also, take a look at TODO file to see bugs and 'not-implemented-yet' (tm) 
features.

Type 'lfm --help' for a complete list of options.

Program preferences are saved in '~/.lfmrc' file.
When the program starts the first time, it tries to discover the location
of some apps in your system to configure lfm automatically, but it's not 
perfect, so you should take a look to the configuration (General Menu [F9] 
-> Edit Configuration [c]) and change it according to your preferences.


Install
=======
'lfm' doesn't work unless you install it, but don't worry, it's very easy.

From rpm (RedHat-type linux system):
type as root:   # rpm -Uvh lfm-version-noarch.rpm

From source (any UNIX):
uncompress file
type:           $ python setup.py build
and as root:    # python setup.py install	

and then just type 'lfm' to run it.

To let lfm to change to panel's current directory after quiting with
'q', 'Q' or F10 keys, you must add to /etc/bashrc or to your ~/.bashrc
next code:

  lfm()
  {
	/usr/bin/lfm $*		# type here full path to lfm executable
	LFMPATHFILE=/tmp/lfm-$$.path
	cd `cat $LFMPATHFILE`
	rm -f $LFMPATHFILE
  }

If you don't use bash or csh shell, above lines must be different.


Upgrading
=========
If you upgrade from version <= 0.5, please remove ~/.lfmrc to regenerate
a valid configuration file.


Keys:
=====
Though most of keys are the same as in mc, some differs.
Here you have the complete list:

+ Movement
    - cursor_up, p, P
    - cursor_down, n, N
    - previous page, backspace, Ctrl-P
    - next page, space, Ctrl-N
    - home: first file
    - end: last file
    - cursor_left: upper dir
    - cursor_right: enter dir / vfs
    - g, G: go to directory
    - Ctrl-S: go to file in current panel
    - 0..9: go to bookmark #
    - b, B: set bookmark #

+ Panels
    - tab: other panel
    - .: toggle 1/2 panels
    - ,, Ctrl-U: change panels position (left->right, right->left)
    - =: show same directory in both panels

+ Selections
    - insert: select item and go to next file
    - +: select group
    - -: deselect group
    - *: invert selection

+ Files/dirs operations
    - t, T: touch file
    - l, L: create link
    - Ctrl-L: edit link
    - v, V, F3: view file
    - e, E, F4: edit file
    - c, C, F5: copy file/dir/selection
    - m, M, F6: move file/dir/selection
    - F7: make directory
    - d, D, F8, del: delete file/dir/selection
    - enter: execute file, enter dir / vfs or view 'specially' depending on 
             the extension of the regular file. It is executed in a thread 
             that can be stopped and captures output
    - i, I: show file info

+ Other
    - #: show directories size
    - s, S: sort files
    - /: find/grep files
    - @: do something on file. Output is not captured, it is also not executed
         in a thread
    - Ctrl-O: open shell. Type 'exit' to return to lfm
	- Ctrl-T: tree
    - f, F, F2: file menu
        . @: Do something on file(s)
        . i: File(s) info
        . p: Change file permissions, owner, group
        . g: Gzip/gunzip file(s)
        . b: Bzip2/bunzip2 file(s)
        . x: Uncompress .tar.gz, .tar.bz2, .tar.Z
        . c: Compress directory to .tar.gz
        . d: Compress directory to .tar.bz2
    - F9: general menu 
        . /: Find/grep file
        . #: show directories size
        . s: sort files
        . t: tree
        . f: show filesystems info
        . o: open shell
        . c: edit configuration
        . a: save configuration
    - Ctrl-R: refresh screen
    - h, H, F1: help
    - q, Q, F10: exit changing to current path
    - x, X: quit

* Keys in EntryLine window:
  - up, down: historic
  - enter: return path
  - tab: change to next entry or button
  - Ctrl-T: complete
  - Ctrl-W: delete leftwards until /
  - Ctrl-D: delete all
  - left, right, home, end, backspace, del, insert, ...
  - Ctrl-C: quit

* Keys in SelectItem window:
  - up, p, P
  - down, n, N
  - next page, space
  - previous page, backspace
  - home
  - end
  - Ctrl-S: go to file/dir
  - enter: return path
  - Ctrl-C, q, Q: quit

* Keys in Tree panel:
  - up, p, P: up within current depth, without going out from directory
  - down, n, N: down within current depth, without going out from directory
  - previous page, backspace, Ctrl-P: same as up but page-size scroll
  - next page, space, Ctrl-N: same as down but page-size scroll
  - home: first directory
  - end: last directory
  - left: go out from directory
  - right: enter in directory
  - enter: return changing to directory
  - Ctrl-C, q, Q, F10: quit


VFS:
====
You can navigate inside some special files (known as vfs files in lfm) just 
'entering into' them (press 'enter' or 'cursor_right' when the cursor bar is
over one of these files). By now, supported types are '.tar.gz' and '.tar.bz2'
files. 

The virtual directory name ('path_to_vfs_file#vfs/dir') is not propagated, so 
tmpdir ('/tmp/@6421.2/dir') is showed in the copy/move/... dialogs or when
view/edit/... a file, but this is just an estetic issue.

When returning from one of such vfs files, the vfs file is regenerated
(i.e., it is recompressed, so it could be slow in some machines) to update 
all modifications, but lfm checks if it can first, to avoid waste of time.
In case of 'panelize' vfs type (after find/grep), deleted / moved files
are not deleted / moved in real path.


History:
========
Some years ago I began to write a program like this in C, but after
some weeks of coding I never finished it... I'm too lazy, yes.
Now, once I've seen the light, I am writing 'lfm' to learn python.


Thanks:
=======

Thanks are obviously due to the whole python community, specially to GvR 
(of course! ;-) and all the people who answered my questions in c.l.p.
It's a great pleasure to code in a language like this.

Alexei Gilchrist, for his cfm program from which I took some ideas.

Midnight Commander developers, whose program was the guide.


============================================================================
Last update:	Monday March 4th, 2002 - 17:16:21 CEST
